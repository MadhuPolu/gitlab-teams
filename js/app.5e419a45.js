(function(e){function t(t){for(var n,r,o=t[0],c=t[1],u=t[2],l=0,m=[];l<o.length;l++)r=o[l],a[r]&&m.push(a[r][0]),a[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);d&&d(t);while(m.length)m.shift()();return i.push.apply(i,u||[]),s()}function s(){for(var e,t=0;t<i.length;t++){for(var s=i[t],n=!0,r=1;r<s.length;r++){var c=s[r];0!==a[c]&&(n=!1)}n&&(i.splice(t--,1),e=o(o.s=s[0]))}return e}var n={},a={app:0},i=[];function r(e){return o.p+"js/"+({about:"about"}[e]||e)+"."+{about:"ec1e39f7"}[e]+".js"}function o(t){if(n[t])return n[t].exports;var s=n[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.e=function(e){var t=[],s=a[e];if(0!==s)if(s)t.push(s[2]);else{var n=new Promise(function(t,n){s=a[e]=[t,n]});t.push(s[2]=n);var i,c=document.getElementsByTagName("head")[0],u=document.createElement("script");u.charset="utf-8",u.timeout=120,o.nc&&u.setAttribute("nonce",o.nc),u.src=r(e),i=function(t){u.onerror=u.onload=null,clearTimeout(l);var s=a[e];if(0!==s){if(s){var n=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src,r=new Error("Loading chunk "+e+" failed.\n("+n+": "+i+")");r.type=n,r.request=i,s[1](r)}a[e]=void 0}};var l=setTimeout(function(){i({type:"timeout",target:u})},12e4);u.onerror=u.onload=i,c.appendChild(u)}return Promise.all(t)},o.m=e,o.c=n,o.d=function(e,t,s){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(s,n,function(t){return e[t]}.bind(null,n));return s},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/gitlab-teams/",o.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var d=u;i.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"0077":function(e,t,s){},"09a0":function(e,t,s){},1002:function(e,t,s){},2498:function(e,t,s){},"26b5":function(e,t,s){},"2ab5":function(e,t,s){},"3cf5":function(e,t,s){"use strict";var n=s("da8f"),a=s.n(n);a.a},"56d7":function(e,t,s){"use strict";s.r(t);var n={};s.r(n),s.d(n,"loadCurrentUser",function(){return Ft}),s.d(n,"loadUser",function(){return Gt}),s.d(n,"launchWatchers",function(){return Wt}),s.d(n,"launchUserWatchers",function(){return Kt}),s.d(n,"cleanAll",function(){return Ht});s("cadf"),s("551c"),s("097d"),s("bf40");var a=s("2ead"),i=s.n(a),r=s("ce5b"),o=s.n(r),c=s("0284"),u=s.n(c),l=s("4eb5"),d=s.n(l),m=s("2b0e"),v=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("v-app",{attrs:{dark:""}},[s("v-navigation-drawer",{attrs:{"mini-variant":e.miniDrawer,fixed:"",clipped:"","hide-overlay":"",app:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[e.miniDrawer?s("v-list-tile",{on:{click:function(t){t.stopPropagation(),e.miniDrawer=!e.miniDrawer}}},[s("v-list-tile-action",[s("v-icon",[e._v("chevron_right")])],1)],1):e._e(),e.connectedUser?s("v-list",{staticClass:"pa-1",attrs:{dense:""}},[s("v-list-tile",{attrs:{avatar:""}},[s("v-list-tile-avatar",[s("v-avatar",{attrs:{size:"44px"}},[e.connectedUser?s("img",{attrs:{src:e.connectedUser.avatar_url}}):s("v-icon",[e._v("account_circle")])],1)],1),s("v-list-tile-content",[s("v-list-tile-title",[e._v(e._s(e.connectedUser.name))])],1),s("v-list-tile-action",[s("v-btn",{attrs:{icon:""},on:{click:function(t){t.stopPropagation(),e.miniDrawer=!e.miniDrawer}}},[s("v-icon",[e._v("chevron_left")])],1)],1)],1)],1):e._e(),s("v-list",{attrs:{dense:""}},[e.isConfigured?s("v-list-tile",{on:{click:function(t){e.$router.push({name:"home"})}}},[s("v-list-tile-action",[s("v-icon",[e._v("dashboard")])],1),s("v-list-tile-content",[s("v-list-tile-title",[e._v("\n            Home\n          ")])],1)],1):e._e(),e.isConfigured?s("v-list-tile",{on:{click:function(t){e.$router.push({name:"mrs"})}}},[s("v-list-tile-action",[s("v-icon",[e._v("merge_type")])],1),s("v-list-tile-content",[s("v-list-tile-title",{staticClass:"with-badge"},[e._v("\n            Merge Requests\n          ")])],1)],1):e._e(),e.isConfigured?s("v-list-tile",{on:{click:function(t){e.$router.push({name:"issues"})}}},[s("v-list-tile-action",[s("v-icon",[e._v("bug_report")])],1),s("v-list-tile-content",[s("v-list-tile-title",{staticClass:"with-badge"},[e._v("\n            Issues\n          ")])],1)],1):e._e(),e.isConfigured?s("v-list-tile",{on:{click:function(t){e.$router.push({name:"todo"})}}},[s("v-list-tile-action",[e.miniDrawer?s("v-badge",{attrs:{right:"",overlap:""}},[s("span",{attrs:{slot:"badge"},slot:"badge"},[e._v(e._s(e.todosSize))]),s("v-icon",[e._v("list")])],1):s("v-icon",[e._v("list")])],1),s("v-list-tile-content",[s("v-list-tile-title",{staticClass:"with-badge"},[s("span",[e._v("Todo")]),s("v-spacer"),e.todosSize?s("v-chip",{attrs:{color:"orange",small:"","text-color":"white"}},[e._v(e._s(e.todosSize))]):e._e()],1)],1)],1):e._e(),s("v-list",[e.isConfigured?s("v-list-tile",{staticClass:"mt-3"},[s("v-list-tile-action",[s("v-btn",{attrs:{icon:"",ripple:""},on:{click:e.createTeam}},[s("v-icon",{attrs:{color:"grey darken-1"}},[e._v("add_circle_outline")])],1)],1),s("v-list-tile-content",[s("v-list-tile-title",[s("span",{staticClass:"grey--text text--darken-1"},[e._v("TEAMS")])])],1)],1):e._e(),e._l(e.teams,function(t){return s("v-list-tile",{key:t.name,attrs:{to:"/team/"+t.name,"active-class":"grey darken-2",avatar:""}},[s("v-list-tile-avatar",[s("team-avatar",{attrs:{team:t,size:"32"}})],1),s("v-list-tile-content",[s("v-list-tile-title",{domProps:{textContent:e._s(t.name)}})],1),s("v-list-tile-action",[s("v-menu",{attrs:{"offset-y":"","min-width":"150"}},[s("v-btn",{attrs:{slot:"activator",icon:"",ripple:""},nativeOn:{click:function(e){e.preventDefault()}},slot:"activator"},[s("v-icon",{attrs:{color:"grey darken-1"}},[e._v("more_vert")])],1),s("v-list",[s("v-list-tile",{on:{click:function(s){s.preventDefault(),e.deleteTeam(t)}}},[s("v-list-tile-title",[e._v("Delete")])],1)],1)],1)],1)],1)})],2),s("v-list-tile",{on:{click:e.openSettings}},[s("v-list-tile-action",[s("v-icon",{attrs:{color:"grey darken-1"}},[e._v("settings")])],1),s("v-list-tile-title",{staticClass:"grey--text text--darken-1"},[e._v("Settings")])],1),s("v-list-tile",{attrs:{href:"https://github.com/chamerling/gitlab-teams/",target:"_blank"}},[s("v-list-tile-action",[s("v-icon",{attrs:{color:"grey darken-1"}},[e._v("info")])],1),s("v-list-tile-title",{staticClass:"grey--text text--darken-1"},[e._v("About")])],1)],1)],1),s("v-toolbar",{attrs:{dark:"",flat:"",fixed:"",app:"","clipped-left":"",dense:"",color:"orange darken-4"}},[s("v-toolbar-side-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),s("v-toolbar-title",[e._v("GitLab Teams")]),s("v-spacer"),e.isConfigured&&"settings"===e.$route.name?s("v-btn",{attrs:{icon:""},on:{click:e.goBack}},[s("v-icon",{attrs:{small:""}},[e._v("clear")])],1):e._e()],1),s("v-content",[s("v-container",{staticClass:"pa-0"},[s("transition",{attrs:{name:"fade",mode:"out-in"}},[s("router-view")],1)],1)],1),s("snackbar")],1)],1)},p=[],f=(s("7f7f"),s("be94")),g=s("2ef0"),h=s.n(g),b=s("2f62"),k=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-snackbar",{attrs:{timeout:e.ui.snackbar.timeout},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[e._v("\n  "+e._s(e.ui.snackbar.message)+"\n  "),s("v-btn",{attrs:{dark:"",flat:""},on:{click:function(t){e.show=!1}}},[e._v("Close")])],1)},y=[],q={name:"Snackbar",computed:Object(f["a"])({show:{get:function(){return this.$store.state.ui.snackbar.show},set:function(e){this.$store.dispatch("showSnackbar",e)}}},Object(b["c"])(["ui"]))},j=q,R=s("2877"),C=Object(R["a"])(j,k,y,!1,null,null,null);C.options.__file="Snackbar.vue";var w=C.exports,T=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-avatar",{attrs:{color:e.getColor(),size:e.size}},[s("span",{staticClass:"white--text headline"},[e._v(e._s(e.team.name[0].toUpperCase()))])])},M=[],O=(s("c5f6"),["#d32f2f","#C2185B","#7B1FA2","#512DA8","#303F9F","#1976D2","#0288D1","#0097A7","#00796B","#388E3C","#689F38","#AFB42B","#FBC02D","#FFA000","#F57C00","#E64A19","#5D4037","#616161","#455A64"]),S={name:"TeamAvatar",props:{team:{type:Object},size:{type:Number,default:36}},methods:{getColor:function(){var e=this.team.name.length;if(!e||1===e)return O[0];var t=this.team.name.charCodeAt(e-1)+this.team.name.charCodeAt(e-2);return O[t%O.length]}}},x=S,A=Object(R["a"])(x,T,M,!1,null,null,null);A.options.__file="TeamAvatar.vue";var P=A.exports,I={data:function(){return{drawer:null}},methods:{openSettings:function(){this.$router.push({name:"settings"})},createTeam:function(){this.$router.push({name:"create-team"})},deleteTeam:function(e){this.$store.dispatch("deleteTeam",e),this.$router.push({name:"home"})},goBack:function(){this.$router.go(-1)}},computed:Object(f["a"])({isConfigured:function(){return this.$store.getters.isConfigured},teams:function(){return h.a.orderBy(this.$store.getters.getTeams,[function(e){return e.name.toLowerCase()}],"asc")},miniDrawer:{set:function(e){this.$store.dispatch("setMiniDrawer",e)},get:function(){return this.$store.state.ui.miniDrawer}}},Object(b["b"])({todosSize:"getTodosSize",connectedUser:"getConnectedUser"})),mounted:function(){this.isConfigured?this.$store.dispatch("launchUserWatchers"):this.openSettings()},components:{Snackbar:w,TeamAvatar:P}},$=I,E=(s("aefd"),Object(R["a"])($,v,p,!1,null,"04fc1d3e",null));E.options.__file="App.vue";var U=E.exports,z=s("8c4f"),D=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{"fill-height":"",fluid:"","grid-list-xl":""}},[s("v-layout",{attrs:{wrap:""}},[s("v-flex",{attrs:{sm6:"",md6:"",lg3:""}},[s("user-stats-card",{attrs:{user:e.user,"merge-requests":e.mergeRequests}})],1),s("v-flex",{attrs:{sm6:"",md6:"",lg3:""}},[s("todos-card",{attrs:{todos:e.todos}})],1),s("v-flex",{attrs:{sm6:"",md6:"",lg3:""}},[s("issues-card",{attrs:{issues:e.issues,total:e.issuesSize}})],1),s("v-flex",{attrs:{sm6:"",md6:"",lg3:""}},[s("pipelines-card",{attrs:{pipelines:e.pipelines}})],1),s("v-flex",{attrs:{md12:"",sm12:"",lg12:""}},[s("merge-requests-card",{attrs:{"merge-requests":e.mergeRequests}})],1),s("v-flex",{attrs:{sm6:"",md6:"",lg3:""}},[s("teams-card",{attrs:{teams:e.teams}})],1)],1)],1)},B=[],L=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-card",[s("v-card-title",[s("v-icon",{attrs:{large:"",left:""}},[e._v("merge_type")]),s("span",{staticClass:"title font-weight-light ml-2"},[e._v("Merge Requests")])],1),s("v-card-text",{attrs:{scrollable:""}},[e.mergeRequests.length?s("merge-requests",{attrs:{"merge-requests":e.mergeRequests}}):[s("div",{staticClass:"pa-3"},[s("v-alert",{attrs:{value:!0,type:"success"}},[e._v("\n          No merge requests.\n        ")])],1)]],2)],1)},N=[],F=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-list",{attrs:{"two-line":"",dark:""}},e._l(e.orderedMergeRequests,function(t){return s("div",{key:t.id},[s("merge-request-item",{attrs:{mr:t,pipeline:e.getPipeline(t)}})],1)}))},G=[],W=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-list-tile",{attrs:{avatar:"",href:e.mr.web_url,target:"_blank"}},[s("v-list-tile-avatar",{on:{click:function(t){t.preventDefault(),e.$router.push({name:"user",params:{name:e.mr.author.username}})}}},[s("user-avatar",{attrs:{user:e.mr.author}})],1),s("v-list-tile-content",[s("v-list-tile-title",{attrs:{id:"title"}},[e.pipeline?s("pipeline",{attrs:{pipeline:e.pipeline,mr:e.mr}}):e._e(),e.mr.merge_when_pipeline_succeeds?s("v-tooltip",{attrs:{bottom:""}},[s("v-icon",{staticClass:"ml-1",attrs:{slot:"activator",color:"orange"},slot:"activator"},[e._v("merge_type")]),s("span",[e._v("Will be merged automatically")])],1):e._e(),s("span",{staticClass:"ml-1"},[e._v(e._s(e.mr.title))])],1),s("v-list-tile-sub-title",[e._v("\n      Created "+e._s(e._f("moment")(e.mr.created_at,"calendar"))+" - Updated "+e._s(e._f("moment")(e.mr.updated_at,"calendar"))+"\n    ")]),s("v-list-tile-sub-title",[s("div",{attrs:{id:"subtitle"}},[e._v("\n        "+e._s(e.getProject(e.mr.project_id).name)+"!"+e._s(e.mr.iid)+" - "+e._s(e.mr.source_branch)+" into "+e._s(e.mr.target_branch)+"\n        "),e.mr.assignee?s("div",{staticClass:"ml-1"},[s("v-tooltip",{attrs:{bottom:""}},[s("v-avatar",{attrs:{slot:"activator",size:"16"},slot:"activator"},[s("img",{attrs:{src:e.mr.assignee.avatar_url,alt:e.mr.assignee.username}})]),s("span",[e._v("Assigned to "+e._s(e.mr.assignee.name))])],1)],1):e._e(),e._l(e.mr.labels,function(t){return s("v-tooltip",{key:t,attrs:{bottom:""}},[s("v-chip",{attrs:{slot:"activator",color:"orange",small:"","text-color":"white"},slot:"activator"},[e._v(e._s(t))]),s("span",[e._v("Label")])],1)})],2)])],1),s("v-list-tile-action",[s("div",{attrs:{id:"actions"}},[s("v-badge",{staticClass:"pr-2",attrs:{overlap:"",left:""}},[s("span",{attrs:{slot:"badge"},slot:"badge"},[e._v(e._s(e.mr.user_notes_count))]),s("v-icon",[e._v("chat")])],1),s("v-badge",{staticClass:"pr-2",attrs:{overlap:"",left:""}},[s("span",{attrs:{slot:"badge"},slot:"badge"},[e._v(e._s(e.mr.upvotes))]),s("v-icon",[e._v("thumb_up")])],1),s("v-tooltip",{attrs:{bottom:""}},[s("v-btn",{staticClass:"mr-3",attrs:{slot:"activator",outline:"",fab:"",small:"",disabled:e.merging||e.closing||e.mr.work_in_progress||"can_be_merged"!==e.mr.merge_status||"opened"!==e.mr.state,loading:e.merging},on:{click:function(t){t.preventDefault(),e.merge()}},slot:"activator"},[s("v-icon",[e._v("merge_type")])],1),s("span",[e._v("Merge it")])],1),s("v-menu",{attrs:{"offset-y":"","min-width":"150"}},[s("v-btn",{attrs:{slot:"activator",icon:"",ripple:""},nativeOn:{click:function(e){e.preventDefault()}},slot:"activator"},[s("v-icon",{attrs:{color:"grey darken-1"}},[e._v("more_vert")])],1),s("v-list",[s("v-list-tile",{attrs:{href:e.mr.web_url,target:"_blank"}},[s("v-list-tile-title",[e._v("View on GitLab")])],1),s("v-list-tile",{on:{click:function(t){e.createTodo()}}},[s("v-list-tile-title",[e._v("Create Todo")])],1),e.canBeClosed?s("v-list-tile",{on:{click:function(t){e.close()}}},[s("v-list-tile-title",[e._v("Close MR")])],1):e._e(),s("v-list-tile",{on:{click:function(t){e.copyLink()}}},[s("v-list-tile-title",[e._v("Copy link")])],1),s("v-list-tile",{on:{click:function(t){e.showMore=!0}}},[s("v-list-tile-title",[e._v("Show more...")]),s("v-dialog",{attrs:{"max-width":"800px",lazy:""},model:{value:e.showMore,callback:function(t){e.showMore=t},expression:"showMore"}},[s("v-card",[s("v-card-title",{attrs:{"primary-title":""}},[s("h3",[e._v(e._s(e.mr.title))])]),s("v-card-text",[s("merge-request-details",{attrs:{mr:e.mr}})],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(t){e.showMore=!1}}},[e._v("Close")])],1)],1)],1)],1)],1)],1)],1)])],1)},K=[],H=(s("6762"),s("2fdb"),s("ac6a"),s("5df3"),s("f400"),s("d4ec")),J=s("bee2"),Y=s("99de"),Z=s("7e84"),V=s("262e"),Q=s("bc3a"),X=s.n(Q),ee=function(){function e(t,s){Object(H["a"])(this,e),this.baseURL=t,this.client=this._createClient(t,s)}return Object(J["a"])(e,[{key:"_createClient",value:function(e,t){return X.a.create({baseURL:e,headers:{"Private-Token":t}})}},{key:"fetchUsers",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Promise.all(t.map(function(t){return e.fetchUser(t)}))}},{key:"fetchUser",value:function(e){return this.client.get("/api/v4/users?username=".concat(e)).then(function(e){return e.data[0]})}},{key:"fetchCurrentUser",value:function(){return this.client.get("/api/v4/user").then(function(e){return e.data})}},{key:"searchUsers",value:function(e){return this.client.get("/api/v4/users?search=".concat(e))}},{key:"getAvatarUrl",value:function(e){return this.client.get("/api/v4/avatar?email=".concat(e)).then(function(e){return e.data})}},{key:"fetchMergeRequests",value:function(e){var t=e.state,s=void 0===t?"opened":t,n=e.author_id,a="/api/v4/merge_requests?state=".concat(s);return n&&(a="".concat(a,"&scope=all&author_id=").concat(n)),this.client.get(a)}},{key:"fetchMergeRequest",value:function(e,t){return this.client.get("/api/v4/projects/".concat(e,"/merge_requests/").concat(t))}},{key:"merge",value:function(e){var t=e.project_id,s=e.iid;return this.client.put("/api/v4/projects/".concat(t,"/merge_requests/").concat(s,"/merge"))}},{key:"closeMergeRequest",value:function(e){var t=e.project_id,s=e.iid;return this.client.put("/api/v4/projects/".concat(t,"/merge_requests/").concat(s),{state_event:"close"})}},{key:"getCommitsForMergeRequest",value:function(e){var t=e.project_id,s=e.iid;return this.client.get("/api/v4/projects/".concat(t,"/merge_requests/").concat(s,"/commits")).then(function(e){return e.data})}},{key:"getCommit",value:function(e){var t=e.project_id,s=e.sha;return this.client.get("/api/v4/projects/".concat(t,"/repository/commits/").concat(s)).then(function(e){return e.data})}},{key:"fetchPipelines",value:function(e,t){return this.client.get("/api/v4/projects/".concat(e,"/pipelines"),{params:{ref:t}})}},{key:"fetchPipeline",value:function(e,t){return this.client.get("/api/v4/projects/".concat(e,"/pipelines/").concat(t))}},{key:"fetchLastPipeline",value:function(e,t){var s=this;return this.fetchPipelines(e,t).then(function(t){return t.data&&t.data.length?s.fetchPipeline(e,t.data[0].id):{}})}},{key:"cancelPipeline",value:function(e,t){return this.client.post("/api/v4/projects/".concat(e,"/pipelines/").concat(t,"/cancel")).then(function(e){return e.data})}},{key:"retryPipeline",value:function(e,t){return this.client.post("/api/v4/projects/".concat(e,"/pipelines/").concat(t,"/retry")).then(function(e){return e.data})}},{key:"getCurrentUser",value:function(){return this.client.get("/api/v4/user")}},{key:"fetchProject",value:function(e){return this.client.get("/api/v4/projects/".concat(e)).then(function(e){return e.data})}},{key:"fetchTodos",value:function(){return this.client.get("/api/v4/todos")}},{key:"fetchIssues",value:function(){return this.client.get("/api/v4/issues")}},{key:"markTodoAsDone",value:function(e){return this.client.post("/api/v4/todos/".concat(e.id,"/mark_as_done"))}},{key:"markAllTodosAsDone",value:function(){return this.client.post("/api/v4/todos/mark_as_done")}},{key:"createTodoFromMergeRequest",value:function(e){var t=e.project_id,s=e.iid;return this.client.post("/api/v4/projects/".concat(t,"/merge_requests/").concat(s,"/todo")).then(function(e){return e.data})}}]),e}(),te=s("808d"),se=s("d3fb"),ne=s("d792"),ae=s("1585"),ie=s("a6c5"),re=s("a2ef"),oe=s("4b59"),ce=s("ebb6"),ue=s("ba10"),le=s.n(ue),de=function(e){function t(e){var s;return Object(H["a"])(this,t),s=Object(Y["a"])(this,Object(Z["a"])(t).call(this)),s.options=e,s.subscriptions=new Map,s.userSubscriptions=[],s.pollingInterval=e.pollingInterval||5e3,s.client=new ee(e.apiEndpoint,e.apiToken),s}return Object(V["a"])(t,e),Object(J["a"])(t,[{key:"watchMergeRequestsForUsers",value:function(e){var t=this,s=e.userIds;s.forEach(function(e){return t.watchMergeRequests({userId:e})})}},{key:"watchMergeRequests",value:function(e){var t=this,s=e.userId,n=Object(te["a"])(0,this.pollingInterval).pipe(Object(ne["a"])(function(){return Object(se["a"])(t.client.fetchMergeRequests({state:"opened",author_id:s}))}),Object(ae["a"])("data")),a=n.pipe(Object(ie["a"])(function(e){return e}),Object(re["a"])(function(e){return e.id})),i=a.subscribe(function(e){var s;t.emit("new-merge-request",e),t.subscriptions.set(e.id,[]);var n=t.watchPipeline(e).subscribe(function(s){s&&t.emit("updated-pipeline",{mergeRequest:e,pipeline:s})}),a=t.watchMergeRequest(e).subscribe(function(s){t.emit("updated-merge-request",s),["merged","closed"].includes(s.state)&&(t.emit("merged-merge-request",s),t.subscriptions.get(e.id).forEach(function(e){return e.unsubscribe()}),t.subscriptions.delete(e.id))});(s=t.subscriptions.get(e.id)).push.apply(s,[n,a,i])})}},{key:"unwatchMergeRequests",value:function(){var e=this;this.subscriptions&&this.subscriptions.forEach(function(t,s){t.forEach(function(e){return e.unsubscribe()}),e.subscriptions.delete(s)})}},{key:"watchMergeRequest",value:function(e){var t=this,s=e.project_id,n=e.iid;return Object(te["a"])(0,this.pollingInterval).pipe(Object(ne["a"])(function(){return Object(se["a"])(t.client.fetchMergeRequest(s,n))}),Object(ae["a"])("data"))}},{key:"watchPipeline",value:function(e){var t=this;return Object(te["a"])(0,this.pollingInterval).pipe(Object(ne["a"])(function(){return Object(se["a"])(t.client.fetchLastPipeline(e.source_project_id,e.source_branch))}),Object(ae["a"])("data"))}},{key:"watchTodos",value:function(){var e=this,t=Object(te["a"])(0,this.pollingInterval).pipe(Object(ne["a"])(function(){return Object(se["a"])(e.client.fetchTodos())})),s=t.pipe(Object(oe["a"])()),n=s.pipe(Object(ae["a"])("data"),Object(ie["a"])(function(e){return e}),Object(re["a"])(function(e){return e.id})),a=s.pipe(Object(ae["a"])("headers"),Object(ce["a"])(function(e){return e["x-total"]})),i=n.subscribe(function(t){e.emit("new-todo",t)}),r=a.subscribe(function(t){e.emit("todo-length",t)});this.userSubscriptions.push(i),this.userSubscriptions.push(r)}},{key:"watchIssues",value:function(){var e=this,t=Object(te["a"])(0,2*this.pollingInterval).pipe(Object(ne["a"])(function(){return Object(se["a"])(e.client.fetchIssues())})),s=t.pipe(Object(oe["a"])()),n=s.pipe(Object(ae["a"])("data"),Object(ie["a"])(function(e){return e}),Object(re["a"])(function(e){return e.id})),a=s.pipe(Object(ae["a"])("headers"),Object(ce["a"])(function(e){return e["x-total"]})),i=n.subscribe(function(t){e.emit("new-issue",t)}),r=a.subscribe(function(t){e.emit("issue-length",t)});this.userSubscriptions.push(i),this.userSubscriptions.push(r)}},{key:"unwatchUser",value:function(){this.userSubscriptions.forEach(function(e){return e.unsubscribe()}),this.userSubscriptions=[]}}]),t}(le.a),me={Api:de,Client:ee},ve=null;function pe(e){ve=new me.Api({apiEndpoint:e.state.settings.apiEndpoint,apiToken:e.state.settings.apiToken}),ve.on("new-merge-request",function(t){e.dispatch("fetchTeamProject",t.project_id).then(function(){e.dispatch("addMergeRequest",t)})}),ve.on("updated-pipeline",function(t){var s=t.mergeRequest,n=t.pipeline;e.dispatch("updatePipeline",{mergeRequest:s,pipeline:n})}),ve.on("updated-merge-request",function(t){e.dispatch("updateMergeRequest",t)}),ve.on("merged-merge-request",function(t){e.dispatch("removeMergeRequest",t)}),ve.on("new-todo",function(t){e.dispatch("addTodo",t)}),ve.on("todo-length",function(t){e.dispatch("setTodoSize",t)}),ve.on("new-issue",function(t){e.dispatch("fetchTeamProject",t.project_id).then(function(){e.dispatch("addIssue",t)})}),ve.on("issue-length",function(t){e.dispatch("setIssueSize",t)})}function fe(){return ve}var ge={get:fe,init:pe},he=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-menu",{attrs:{"open-on-hover":"","close-on-content-click":!1,"nudge-width":200,"offset-y":"",bottom:""},model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[s("v-avatar",{attrs:{slot:"activator",size:e.size},slot:"activator"},[s("img",{attrs:{src:e.user.avatar_url,alt:e.user.username}})]),s("v-card",[s("v-list",[s("v-list-tile",{attrs:{avatar:""}},[s("v-list-tile-avatar",[s("img",{attrs:{src:e.user.avatar_url}})]),s("v-list-tile-content",[s("v-list-tile-title",[e._v(e._s(e.user.name))]),s("v-list-tile-sub-title",[e._v("@"+e._s(e.user.username))]),s("v-list-tile-sub-title",[e._t("default")],2)],1),s("v-list-tile-action",[e._t("action")],2)],1)],1)],1)],1)},_e=[],be={name:"user-avatar-popover",props:{user:Object,size:{type:Number,default:48}},data:function(){return{menu:!1}},mounted:function(){}},ke=be,ye=Object(R["a"])(ke,he,_e,!1,null,null,null);ye.options.__file="UserAvatarPopover.vue";var qe=ye.exports,je=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-menu",{attrs:{"open-on-hover":"","close-on-content-click":!1,"nudge-width":200,"offset-y":"",bottom:""},model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[s("v-icon",{class:{running:"running"===e.pipeline.status},attrs:{slot:"activator",size:e.size,color:e.getPipelineColor()},nativeOn:{click:function(e){e.preventDefault()}},slot:"activator"},[e._v(e._s(e.getPipelineIcon()))]),s("v-card",[s("v-card-text",{attrs:{id:"card-text"}},[s("v-icon",{staticClass:"mr-1",class:{running:"running"===e.pipeline.status},attrs:{color:e.getPipelineColor()}},[e._v(e._s(e.getPipelineIcon()))]),s("span",[e._v("Pipeline #"+e._s(e.pipeline.id)+" "+e._s(e.pipeline.status))]),s("span",{staticClass:"ml-1 mr-1"},[e._v("-")]),"running"===e.pipeline.status?s("span",[e._v("Started "+e._s(e._f("moment")(e.pipeline.updated_at,"calendar")))]):s("span",[e._v("Finished "+e._s(e._f("moment")(e.pipeline.finished_at,"calendar")))])],1),s("v-card-actions",[s("v-spacer"),"failed"===e.pipeline.status||"success"===e.pipeline.status||"canceled"===e.pipeline.status?s("v-tooltip",{attrs:{top:"",s:""}},[s("v-btn",{attrs:{slot:"activator",flat:"",icon:"",small:""},on:{click:function(t){e.retry()}},slot:"activator"},[s("v-icon",[e._v("replay")])],1),s("span",[e._v("Launch again")])],1):s("v-tooltip",{attrs:{top:""}},[s("v-btn",{attrs:{slot:"activator",flat:"",icon:"",small:""},on:{click:function(t){e.cancel()}},slot:"activator"},[s("v-icon",[e._v("cancel")])],1),s("span",[e._v("Cancel")])],1),e.pipeline.web_url?s("v-tooltip",{attrs:{top:""}},[s("v-btn",{staticClass:"ml-1",attrs:{slot:"activator",href:e.pipeline.web_url,target:"_blank",flat:"",icon:"",small:""},slot:"activator"},[s("v-icon",[e._v("open_in_new")])],1),s("span",[e._v("Open")])],1):e._e()],1)],1)],1)},Re=[],Ce={name:"pipeline-popover",props:{pipeline:Object,mr:Object,size:{type:Number,default:24}},methods:{retry:function(){var e=this;ge.get().client.retryPipeline(this.mr.source_project_id,this.pipeline.id).then(function(){return e.$store.dispatch("displaySnackbarMessage","Pipeline has been relaunched")}).catch(function(){return e.$store.dispatch("displaySnackbarMessage","Can not relaunch pipeline")})},cancel:function(){var e=this;ge.get().client.cancelPipeline(this.mr.source_project_id,this.pipeline.id).then(function(){return e.$store.dispatch("displaySnackbarMessage","Pipeline has been canceled")}).catch(function(){return e.$store.dispatch("displaySnackbarMessage","Can not cancel pipeline")})},getPipelineColor:function(){var e={pending:"warning",failed:"error",success:"success",running:"primary",canceled:"black"};return e[this.pipeline.status]||"primary"},getPipelineIcon:function(){var e={pending:"pause_circle_outline",failed:"error_outline",success:"check_circle_outline",running:"timelapse",canceled:"highlight_off"};return e[this.pipeline.status]||"help"}},data:function(){return{menu:!1}}},we=Ce,Te=(s("5e37"),Object(R["a"])(we,je,Re,!1,null,"3bf8ca29",null));Te.options.__file="PipelinePopover.vue";var Me=Te.exports,Oe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.loaded?[s("v-list",e._l(e.commits,function(t){return s("v-list-tile",{key:t.id},[s("v-list-tile-avatar",[s("v-avatar",{attrs:{slot:"activator",size:"32"},slot:"activator"},[s("img",{attrs:{src:t.avatar_url}})])],1),s("v-list-tile-content",[s("v-list-tile-title",[s("v-tooltip",{attrs:{bottom:""}},[s("a",{staticClass:"mr-1",attrs:{slot:"activator"},on:{click:function(s){e.copySha(t)}},slot:"activator"},[e._v(e._s(t.short_id))]),s("span",[e._v("Click to copy")])]),s("span",[e._v(e._s(t.title))])],1),s("v-list-tile-sub-title",[s("span",{staticClass:"green--text font-weight-medium"},[e._v("+"+e._s(t.stats.additions))]),s("span",{staticClass:"ml-2 red--text font-weight-medium"},[e._v("-"+e._s(t.stats.deletions))])])],1),s("v-list-tile-action")],1)}))]:[s("div",{staticClass:"text-xs-center"},[s("v-progress-circular",{attrs:{indeterminate:""}})],1)]],2)},Se=[],xe={name:"MergeRequestDetails",props:{mr:Object},data:function(){return{loaded:!1,commits:[]}},methods:{copySha:function(e){var t=this;this.$copyText(e.id).then(function(){return t.$store.dispatch("displaySnackbarMessage","SHA copied")}).catch(function(){})},getCommits:function(){return ge.get().client.getCommitsForMergeRequest(this.mr)},getAllCommitsDetails:function(e){var t=this;return Promise.all(e.map(function(e){return t.getCommit({project_id:t.mr.project_id,sha:e.id})}))},getCommit:function(e){var t=this,s=e.project_id,n=e.sha;return ge.get().client.getCommit({project_id:s,sha:n}).then(function(e){return t.getAvatarUrl(e).then(function(t){return e.avatar_url=t,e})})},getAvatarUrl:function(e){return ge.get().client.getAvatarUrl(e.author_email).then(function(e){return e.avatar_url})}},mounted:function(){var e=this;this.getCommits().then(function(t){return e.getAllCommitsDetails(t)}).then(function(t){e.commits=t}).catch(function(){}).finally(function(){return e.loaded=!0})},components:{}},Ae=xe,Pe=Object(R["a"])(Ae,Oe,Se,!1,null,null,null);Pe.options.__file="MergeRequestDetails.vue";var Ie=Pe.exports,$e={name:"MergeRequestItem",data:function(){return{showMore:!1,merging:!1,closing:!1}},props:{mr:Object,pipeline:Object},computed:Object(f["a"])({canBeClosed:function(){return"opened"===this.mr.state}},Object(b["b"])({getProject:"getProject"})),methods:{createTodo:function(){var e=this;ge.get().client.createTodoFromMergeRequest({project_id:this.mr.project_id,iid:this.mr.iid}).then(function(){return e.$store.dispatch("displaySnackbarMessage","Todo has been created")}).catch(function(){return e.$store.dispatch("displaySnackbarMessage","Can not create Todo")})},copyLink:function(){var e=this,t="".concat(this.mr.title," - ").concat(this.mr.web_url);this.$copyText(t).then(function(){return e.$store.dispatch("displaySnackbarMessage","Link copied")}).catch(function(){})},merge:function(){var e=this;this.merging=!0,this.$store.dispatch("merge",this.mr).then(function(){}).catch(function(e){console.log(e)}).finally(function(){e.merging=!1})},close:function(){var e=this;this.closing=!0,this.$store.dispatch("closeMergeRequest",this.mr).catch(function(){return e.$store.dispatch("displaySnackbarMessage","Error while closing MR")}).finally(function(){e.closing=!1})}},components:{"user-avatar":qe,pipeline:Me,"merge-request-details":Ie}},Ee=$e,Ue=(s("6337"),Object(R["a"])(Ee,W,K,!1,null,"33f28519",null));Ue.options.__file="MergeRequestItem.vue";var ze=Ue.exports,De={name:"MergeRequests",props:{mergeRequests:Array},methods:{getPipeline:function(e){return this.$store.getters.getPipeline(e.id)}},computed:{orderedMergeRequests:function(){return h.a.orderBy(this.mergeRequests,"created_at","desc")}},components:{MergeRequestItem:ze}},Be=De,Le=Object(R["a"])(Be,F,G,!1,null,null,null);Le.options.__file="MergeRequests.vue";var Ne=Le.exports,Fe={props:{mergeRequests:Array},components:{MergeRequests:Ne}},Ge=Fe,We=Object(R["a"])(Ge,L,N,!1,null,null,null);We.options.__file="MergeRequestsCard.vue";var Ke=We.exports,He=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-card",{attrs:{height:"250"}},[s("v-card-title",[s("v-icon",{attrs:{large:"",left:""}},[e._v("bar_chart")]),s("span",{staticClass:"title font-weight-light ml-2"},[e._v("My Stats")])],1),s("v-card-text",[s("div",{staticClass:"ma-3",attrs:{id:"gauge"}},[s("avatar-build-gauge",{attrs:{user:e.user,"merge-requests":e.mergeRequests,size:92}})],1)])],1)},Je=[],Ye=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:{running:e.stats.isRunning}},[s("v-progress-circular",{attrs:{size:e.avatarSize.progress,width:5,value:e.stats.ratio,color:e.stats.color}},[s("v-badge",{attrs:{overlap:""}},[s("span",{attrs:{slot:"badge"},slot:"badge"},[e._v(e._s(e.mergeRequests.length))]),e.user?s("user-avatar-popover",{attrs:{user:e.user,size:e.avatarSize.avatar}},[e.stats.success||e.stats.failed||e.stats.running?s("span",[e._v("Pipelines: "+e._s(e.stats.success)+" success, "+e._s(e.stats.failed)+" failed, "+e._s(e.stats.running)+" running")]):e._e()]):e._e()],1)],1)],1)},Ze=[],Ve={name:"AvatarBuildGauge",props:{user:Object,mergeRequests:Array,size:{type:Number,default:48}},methods:{getPipeline:function(e){return this.$store.getters.getPipeline(e.id)}},computed:{avatarSize:function(){return{progress:this.size+10,avatar:this.size}},stats:function(){var e=this,t=this.mergeRequests.map(function(t){return e.getPipeline(t)}).filter(Boolean)||[],s=t.filter(function(e){return"success"===e.status}),n=t.filter(function(e){return"failed"===e.status}),a=t.filter(function(e){return"running"===e.status}),i=t.some(function(e){return"running"===e.status}),r=(100*s.length/t.length).toFixed(2),o=["error","warning","success"][Math.floor(r/40)]||"grey darken-3";return{ratio:r,color:o,success:s.length,failed:n.length,running:a.length,pipelines:t.length,isRunning:i}}},components:{UserAvatarPopover:qe}},Qe=Ve,Xe=(s("9411"),Object(R["a"])(Qe,Ye,Ze,!1,null,"415b21f2",null));Xe.options.__file="AvatarBuildGauge.vue";var et=Xe.exports,tt={props:{user:Object,mergeRequests:Array},components:{AvatarBuildGauge:et}},st=tt,nt=(s("7e49"),Object(R["a"])(st,He,Je,!1,null,"6758aab6",null));nt.options.__file="UserStatsCard.vue";var at=nt.exports,it=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-card",{attrs:{height:"250"}},[s("v-card-title",[s("v-icon",{attrs:{large:"",left:""}},[e._v("list")]),s("span",{staticClass:"title font-weight-light ml-2"},[e._v("Todos")])],1),s("v-card-text",[s("div",{staticClass:"ma-1",attrs:{id:"count"}},[s("span",{staticClass:"font-weight-medium display-3"},[e._v(e._s(e.todos?e.todos.length:0))])]),s("v-tooltip",{attrs:{bottom:""}},[e.todos.length?s("v-list",{attrs:{slot:"activator","two-line":"",dark:"",dense:""},slot:"activator"},[s("todo",{attrs:{item:e.last}})],1):e._e(),s("span",[e._v("Last todo: "+e._s(e.last.body))])],1)],1)],1)},rt=[],ot=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-list-tile",{attrs:{avatar:"",href:e.item.target_url,target:"_blank"}},[s("v-list-tile-avatar",{on:{click:function(t){t.preventDefault(),e.$router.push({name:"user",params:{name:e.item.author.username}})}}},[s("user-avatar",{attrs:{user:e.item.author}})],1),s("v-list-tile-content",[s("v-list-tile-title",["assigned"===e.item.action_name?["Issue"===e.item.target_type?[e._v("\n          "+e._s(e.item.author.name||e.item.author.username)+" assigned you the issue "+e._s(e.getIssueAsText())+"\n        ")]:e._e(),"MergeRequest"===e.item.target_type?[e._v("\n          "+e._s(e.item.author.name||e.item.author.username)+" assigned you the merge request "+e._s(e.getMergeRequestAsText())+"\n        ")]:e._e()]:e._e(),"mentioned"===e.item.action_name?["Issue"===e.item.target_type?[e._v("\n          "+e._s(e.item.author.name||e.item.author.username)+" mentioned you in the issue "+e._s(e.getIssueAsText())+"\n        ")]:e._e(),"MergeRequest"===e.item.target_type?[e._v("\n          "+e._s(e.item.author.name||e.item.author.username)+" mentioned you the merge request "+e._s(e.getMergeRequestAsText())+"\n        ")]:e._e()]:e._e(),"build_failed"===e.item.action_name?[e._v("\n        Build failed\n      ")]:e._e(),"marked"===e.item.action_name?[e._v("\n        ?\n      ")]:e._e(),"approval_required"===e.item.action_name?["MergeRequest"===e.item.target_type?[e._v("\n          "+e._s(e.item.author.name||e.item.author.username)+" require your approval in merge request "+e._s(e.getMergeRequestAsText())+"\n        ")]:[e._v("\n          ?\n        ")]]:e._e(),"unmergeable"===e.item.action_name?["MergeRequest"===e.item.target_type?[e._v("\n          "+e._s(e.item.author.name||e.item.author.username)+" marked the merge request as unmergeable in "+e._s(e.getMergeRequestAsText())+"\n        ")]:e._e()]:e._e(),"directly_addressed"===e.item.action_name?["Issue"===e.item.target_type?[e._v("\n          "+e._s(e.item.author.name||e.item.author.username)+" directly addressed you in the issue "+e._s(e.getIssueAsText())+"\n        ")]:e._e(),"MergeRequest"===e.item.target_type?[e._v("\n          "+e._s(e.item.author.name||e.item.author.username)+" directly addressed you in the merge request "+e._s(e.getMergeRequestAsText())+"\n        ")]:e._e()]:e._e()],2),s("v-list-tile-sub-title",[s("div",{staticClass:"ellipsis"},[e._v("\n        "+e._s(e._f("moment")(e.item.created_at,"calendar"))+"\n      ")]),s("v-list-tile-sub-title",{staticClass:"ellipsis"},[e._v(e._s(e.item.body))])],1)],1),s("v-list-tile-action",[s("div",{attrs:{id:"actions"}},[s("v-btn",{attrs:{outline:"",fab:"",small:"",dark:""},on:{click:function(t){t.preventDefault(),e.markAsRead()}}},[s("v-icon",[e._v("check")])],1)],1)])],1)},ct=[],ut={name:"Todo",props:{item:Object},methods:{markAsRead:function(){this.$store.dispatch("markTodoAsDone",this.item)},getMergeRequestAsText:function(){return"".concat(this.item.project.path,"!").concat(this.item.target.iid)},getIssueAsText:function(){return"".concat(this.item.project.path,"#").concat(this.item.target.iid)}},components:{"user-avatar":qe}},lt=ut,dt=(s("3cf5"),Object(R["a"])(lt,ot,ct,!1,null,"0fe6fbf5",null));dt.options.__file="Todo.vue";var mt=dt.exports,vt={props:{todos:Array},computed:{last:function(){return Object(g["head"])(this.todos)}},components:{Todo:mt}},pt=vt,ft=(s("fa16"),Object(R["a"])(pt,it,rt,!1,null,"1a0b5418",null));ft.options.__file="TodosCard.vue";var gt=ft.exports,ht=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-card",{attrs:{height:"250"}},[s("v-card-title",[s("v-icon",{attrs:{large:"",left:""}},[e._v("bug_report")]),s("span",{staticClass:"title font-weight-light ml-2"},[e._v("Issues")])],1),s("v-card-text",[s("div",{staticClass:"ma-1",attrs:{id:"count"}},[s("span",{staticClass:"font-weight-medium display-3"},[e._v(e._s(e.total))])]),s("v-tooltip",{attrs:{bottom:""}},[e.issues.length?s("v-list",{attrs:{slot:"activator","two-line":"",dark:"",dense:""},slot:"activator"},[s("issue",{attrs:{item:e.last,"hide-actions":""}})],1):e._e(),s("span",[e._v("Last issue: "+e._s(e.last.title))])],1)],1)],1)},_t=[],bt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-list-tile",{attrs:{avatar:"",href:e.item.web_url,target:"_blank"}},[s("v-list-tile-avatar",{on:{click:function(t){t.preventDefault(),e.$router.push({name:"user",params:{name:e.item.author.username}})}}},[s("user-avatar",{attrs:{user:e.item.author}})],1),s("v-list-tile-content",[s("v-list-tile-title",{attrs:{id:"title"}},[s("span",[e._v(e._s(e.item.title))])]),s("v-list-tile-sub-title",[s("span",{staticClass:"state"},[e._v(e._s(e.getState()))]),e._v(" - Created "+e._s(e._f("moment")(e.item.created_at,"calendar"))+" - Updated "+e._s(e._f("moment")(e.item.updated_at,"calendar"))+"\n    ")]),s("v-list-tile-sub-title",[s("div",{attrs:{id:"subtitle"}},[e._v("\n        "+e._s(e.getProject(e.item.project_id).name)+"#"+e._s(e.item.iid)+"\n        "),e._l(e.item.assignees,function(t){return s("div",{key:t.id,staticClass:"ml-1"},[s("v-tooltip",{attrs:{bottom:""}},[s("v-avatar",{attrs:{slot:"activator",size:"16"},slot:"activator"},[s("img",{attrs:{src:t.avatar_url,alt:t.username}})]),s("span",[e._v("Assigned to "+e._s(t.name))])],1)],1)}),e.item.milestone?s("v-tooltip",{attrs:{bottom:""}},[s("v-chip",{attrs:{slot:"activator",color:"primary",small:"","text-color":"white"},slot:"activator"},[e._v(e._s(e.item.milestone.title))]),s("span",[e._v("Milestone")])],1):e._e(),e._l(e.item.labels,function(t){return s("v-tooltip",{key:t,attrs:{bottom:""}},[s("v-chip",{attrs:{slot:"activator",color:"orange",small:"","text-color":"white"},slot:"activator"},[e._v(e._s(t))]),s("span",[e._v("Label")])],1)})],2)])],1),e.hideActions?e._e():s("v-list-tile-action",[s("div",{attrs:{id:"actions"}},[s("v-badge",{staticClass:"pr-2",attrs:{overlap:"",left:"",color:"orange"}},[s("span",{attrs:{slot:"badge"},slot:"badge"},[e._v(e._s(e.item.user_notes_count))]),s("v-icon",[e._v("chat")])],1),s("v-badge",{staticClass:"pr-2",attrs:{overlap:"",left:"",color:"orange"}},[s("span",{attrs:{slot:"badge"},slot:"badge"},[e._v(e._s(e.item.upvotes))]),s("v-icon",[e._v("thumb_up")])],1),s("v-badge",{staticClass:"pr-2",attrs:{overlap:"",left:"",color:"orange"}},[s("span",{attrs:{slot:"badge"},slot:"badge"},[e._v(e._s(e.item.downvotes))]),s("v-icon",[e._v("thumb_down")])],1)],1)])],1)},kt=[],yt={opened:"open",closed:"closed"},qt={name:"Issue",props:{item:Object,hideActions:{type:Boolean,default:!1}},computed:Object(f["a"])({},Object(b["b"])({getProject:"getProject"})),methods:{getState:function(){return yt[this.item.state]}},components:{"user-avatar":qe}},jt=qt,Rt=(s("dac1"),Object(R["a"])(jt,bt,kt,!1,null,"19e50ff4",null));Rt.options.__file="Issue.vue";var Ct=Rt.exports,wt={props:{issues:Array,total:{type:Number,default:0}},computed:{last:function(){return Object(g["head"])(this.issues)}},components:{Issue:Ct}},Tt=wt,Mt=(s("e176"),Object(R["a"])(Tt,ht,_t,!1,null,"0aace3f8",null));Mt.options.__file="IssuesCard.vue";var Ot=Mt.exports,St=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-card",{attrs:{height:"250"}},[s("v-card-title",[s("v-icon",{attrs:{large:"",left:""}},[e._v("people")]),s("span",{staticClass:"title font-weight-light ml-2"},[e._v("Teams")])],1),s("v-card-text",[s("div",{staticClass:"teams ma-1"},e._l(e.teams,function(t){return s("div",{key:t.name,staticClass:"team ma-1"},[s("v-tooltip",{attrs:{bottom:""}},[s("team-avatar",{attrs:{slot:"activator",team:t,size:60},slot:"activator"}),s("span",[e._v(e._s(t.name))])],1)],1)}))])],1)},xt=[],At={props:{teams:Array},methods:{goTo:function(e){this.$router.push({name:"team",params:{name:e.name}})}},components:{TeamAvatar:P}},Pt=At,It=(s("b921"),Object(R["a"])(Pt,St,xt,!1,null,"347616dc",null));It.options.__file="TeamsCard.vue";var $t=It.exports,Et=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-card",{attrs:{height:"250"}},[s("v-card-title",[s("v-icon",{attrs:{large:"",left:""}},[e._v("build")]),s("span",{staticClass:"title font-weight-light ml-2"},[e._v("Pipelines")])],1),s("v-card-text",[s("div",{staticClass:"ma-1",attrs:{id:"count"}},[s("span",{staticClass:"font-weight-medium display-3"},[e._v(e._s(e.pipelines?e.pipelines.length:0))])]),e.pipelines.length?s("div",{staticClass:"pipelines ma-1"},e._l(e.pipelines,function(t){return s("div",{key:t.id,staticClass:"pipeline ma-1"},[s("pipeline",{attrs:{pipeline:t,mr:e.getMergeRequest(t),size:e.getSize()}})],1)})):e._e()])],1)},Ut=[],zt={props:{pipelines:Array},methods:{getSize:function(){return this.pipelines.length>4?32:48},getMergeRequest:function(e){var t=this.$store.getters.getMergeRequestIdForPipeline(e.id);return t?this.$store.getters.getMergeRequest(t):{}}},components:{pipeline:Me}},Dt=zt,Bt=(s("caf6"),Object(R["a"])(Dt,Et,Ut,!1,null,"fbda18d6",null));Bt.options.__file="PipelinesCard.vue";var Lt,Nt=Bt.exports,Ft=function(e){var t=e.dispatch,s=ge.get();t("cleanMergeRequests"),s.watchMergeRequests({})},Gt=function(e,t){var s=e.dispatch,n=e.state,a=ge.get();s("cleanMergeRequests"),s("fetchUser",t).then(function(){a.watchMergeRequestsForUsers({userIds:[n.user.currentUser.id]})})},Wt=function(e){var t=e.dispatch,s=e.state,n=ge.get();t("fetchTeamUsers").then(function(){n.watchMergeRequestsForUsers({userIds:s.team.team.users.map(function(e){return e.id})})})},Kt=function(e){var t=e.dispatch,s=ge.get();t("fetchConnectedUser"),s.watchTodos(),s.watchIssues()},Ht=function(e){var t=e.dispatch;t("updateSettings",{apiEndpoint:void 0,apiToken:void 0})},Jt=s("94d5"),Yt={},Zt=(s("b054"),[]),Vt={},Qt=s("ade3"),Xt="mini_drawer",es={snackbar:{color:"red",message:null,timeout:3e3,show:!1},miniDrawer:JSON.parse(localStorage.getItem(Xt))},ts={SET_MINI_DRAWER:"SET_MINI_DRAWER",SHOW_SNACKBAR:"SHOW_SNACKBAR",DISPLAY_SNACKBAR_MESSAGE:"DISPLAY_SNACKBAR_MESSAGE"},ss={setMiniDrawer:function(e,t){var s=e.commit;s(ts.SET_MINI_DRAWER,t)},showSnackbar:function(e,t){var s=e.commit;s(ts.SHOW_SNACKBAR,t)},displaySnackbarMessage:function(e,t){var s=e.commit;s(ts.DISPLAY_SNACKBAR_MESSAGE,t)}},ns=(Lt={},Object(Qt["a"])(Lt,ts.SET_MINI_DRAWER,function(e,t){e.miniDrawer=t,localStorage.setItem(Xt,e.miniDrawer)}),Object(Qt["a"])(Lt,ts.SHOW_SNACKBAR,function(e,t){e.snackbar.show=t}),Object(Qt["a"])(Lt,ts.DISPLAY_SNACKBAR_MESSAGE,function(e,t){e.snackbar.message=t,e.snackbar.show=!0}),Lt),as={isMiniDrawer:function(e){return!!e.miniDrawer}},is={namespaced:!1,state:es,getters:as,actions:ss,mutations:ns},rs=(s("8615"),{todos:{},todoSize:0}),os={addTodo:function(e,t){var s=e.commit;s("addTodo",t)},removeTodo:function(e,t){var s=e.commit;s("removeTodo",t)},updateTodo:function(e,t){var s=e.commit;s("updateTodo",t)},markTodoAsDone:function(e,t){var s=e.dispatch,n=e.state,a=ge.get();return a.client.markTodoAsDone(t).then(function(){s("removeTodo",t),s("setTodoSize",--n.todoSize)})},markAllTodosAsDone:function(e){var t=e.commit,s=e.dispatch,n=ge.get();return n.client.markAllTodosAsDone().then(function(){s("setTodoSize",0),t("setTodos",{})})},setTodoSize:function(e,t){var s=e.commit;s("setTodoSize",t)},setTodos:function(e,t){e.todos=t}},cs={addTodo:function(e,t){var s=e.todos;m["default"].set(s,t.id,t)},removeTodo:function(e,t){var s=e.todos;m["default"].delete(s,t.id)},setTodoSize:function(e,t){e.todoSize=parseInt(t)}},us={getTodos:function(e){var t=e.todos;return h.a.orderBy(Object.values(t),"created_at","desc")},getTodosSize:function(e){var t=e.todoSize,s=e.todos;return t||(Object.values(s)||[]).length}},ls={namespaced:!1,state:rs,getters:us,actions:os,mutations:cs},ds={mergeRequests:{}},ms={cleanMergeRequests:function(e){var t=e.commit,s=ge.get();s.unwatchMergeRequests(),t("setMergeRequests",{}),t("setPipelines",{})},merge:function(e,t){var s=e.dispatch,n=ge.get();return n.client.merge(t).then(function(){s("removeMergeRequest",t)})},closeMergeRequest:function(e,t){var s=e.dispatch,n=ge.get();return n.client.closeMergeRequest(t).then(function(){s("removeMergeRequest",t)})},addMergeRequest:function(e,t){var s=e.commit;s("addMergeRequest",t)},removeMergeRequest:function(e,t){var s=e.commit;s("removeMergeRequest",t)},updateMergeRequest:function(e,t){var s=e.commit;s("updateMergeRequest",t)}},vs={getMergeRequest:function(e){var t=e.mergeRequests;return function(e){return t[e]}},getMergeRequestsForUser:function(e){var t=e.mergeRequests;return function(e){return Object.values(t).filter(function(t){return t.author.username===e})}},getMergeRequests:function(e){var t=e.mergeRequests;return Object.values(t)}},ps={addMergeRequest:function(e,t){var s=e.mergeRequests;m["default"].set(s,t.id,t)},removeMergeRequest:function(e,t){var s=e.mergeRequests;m["default"].delete(s,t.id)},setMergeRequests:function(e,t){e.mergeRequests=t},resetMergeRequests:function(e){e.mergeRequests={}},updateMergeRequest:function(e,t){var s=e.mergeRequests;m["default"].set(s,t.id,t)}},fs={namespaced:!1,state:ds,getters:vs,actions:ms,mutations:ps},gs=(s("20d6"),s("7514"),{teams:JSON.parse(localStorage.getItem("teams")||"[]"),team:{},projects:{}}),hs={getTeams:function(e){return e.teams},getProject:function(e){var t=e.projects;return function(e){return t[e]}}},_s={loadTeam:function(e,t){var s=e.commit,n=e.dispatch;n("cleanMergeRequests"),s("setCurrentTeam",t),n("launchWatchers")},createTeam:function(e,t){var s=e.commit;s("addTeam",t)},deleteTeam:function(e,t){var s=e.state,n=e.commit,a=e.dispatch;s.team&&s.team.name===t.name&&a("cleanMergeRequests"),n("removeTeam",t)},fetchTeamUsers:function(e){var t=e.state,s=e.commit;return ge.get().client.fetchUsers(t.team.usernames).then(function(e){s("setTeamUsers",e)})},fetchTeamProject:function(e,t){var s=e.commit,n=e.state;return n.projects[t]?Promise.resolve(n.projects[t]):ge.get().client.fetchProject(t).then(function(e){return s("addTeamProject",e),e})}},bs={setCurrentTeam:function(e,t){var s=h.a.find(e.teams,{name:t});e.team=s},addTeam:function(e,t){e.teams.push(t),localStorage.setItem("teams",JSON.stringify(e.teams))},removeTeam:function(e,t){var s=e.teams.findIndex(function(e){return e.name===t.name});s>-1&&e.teams.splice(s,1),localStorage.setItem("teams",JSON.stringify(e.teams))},resetTeams:function(e){localStorage.setItem("teams",JSON.stringify([])),e.teams=[],e.team={}},setTeamUsers:function(e,t){e.team.users=t},addTeamProject:function(e,t){var s=e.projects;m["default"].set(s,t.id,t)},setTeamProjects:function(e,t){e.projects=t}},ks={namespaced:!1,state:gs,getters:hs,actions:_s,mutations:bs},ys={issues:{},issueSize:0},qs={getIssues:function(e){var t=e.issues;return h.a.orderBy(Object.values(t),"created_at","desc")},getIssuesSize:function(e){var t=e.issueSize,s=e.issues;return t||(Object.values(s)||[]).length}},js={addIssue:function(e,t){var s=e.commit;s("addIssue",t)},removeIssue:function(e,t){var s=e.commit;s("removeIssue",t)},setIssueSize:function(e,t){var s=e.commit;s("setIssueSize",t)}},Rs={addIssue:function(e,t){var s=e.issues;m["default"].set(s,t.id,t)},removeIssue:function(e,t){var s=e.issues;m["default"].delete(s,t.id)},setIssues:function(e,t){e.issues=t},setIssueSize:function(e,t){e.issueSize=parseInt(t)}},Cs={namespaced:!1,state:ys,getters:qs,actions:js,mutations:Rs},ws={pipelines:{}},Ts={getPipeline:function(e){var t=e.pipelines;return function(e){return t[e]}},getPipelines:function(e){var t=e.pipelines;return Object(g["orderBy"])(Object.values(t),"created_at","desc")},getMergeRequestIdForPipeline:function(e){var t=e.pipelines;return function(e){return Object(g["findKey"])(t,function(t){return t.id===e})}}},Ms={updatePipeline:function(e,t){var s=e.commit,n=t.mergeRequest,a=t.pipeline;s("updatePipeline",{mergeRequest:n,pipeline:a})}},Os={updatePipeline:function(e,t){var s=e.pipelines,n=t.mergeRequest,a=t.pipeline;m["default"].set(s,n.id,a)},removePipeline:function(e,t){var s=e.pipelines,n=t.mergeRequest;m["default"].delete(s,n.id)},setPipelines:function(e,t){e.pipelines=t}},Ss={namespaced:!1,state:ws,getters:Ts,actions:Ms,mutations:Os},xs={connectedUser:null,currentdUser:null},As={getConnectedUser:function(e){return e.connectedUser}},Ps={fetchUser:function(e,t){var s=e.commit;return ge.get().client.fetchUser(t).then(function(e){s("setCurrentUser",e)})},fetchConnectedUser:function(e){var t=e.commit;return ge.get().client.fetchCurrentUser().then(function(e){t("setConnectedUser",e)})}},Is={setConnectedUser:function(e,t){e.connectedUser=t},setCurrentUser:function(e,t){e.currentUser=t}},$s={namespaced:!1,state:xs,getters:As,actions:Ps,mutations:Is},Es={apiEndpoint:localStorage.getItem("apiEndpoint")||"https://gitlab.com",apiToken:localStorage.getItem("apiToken")},Us={isConfigured:function(e){return!!e.apiToken}},zs={updateSettings:function(e,t){var s=e.commit,n=e.dispatch;s("updateSettings",t),s("resetTeams"),s("setMergeRequests",{}),s("setPipelines",{}),s("setTeamProjects",{}),s("setTodos",{}),s("setConnectedUser",null),n("launchWatchers"),n("launchUserWatchers")}},Ds={updateSettings:function(e,t){e.apiEndpoint=t.apiEndpoint,e.apiToken=t.apiToken,localStorage.setItem("apiEndpoint",e.apiEndpoint||""),localStorage.setItem("apiToken",e.apiToken||""),ge.get().unwatchUser(),ge.get().unwatchMergeRequests(),ge.init(this)}},Bs={namespaced:!1,state:Es,getters:Us,actions:zs,mutations:Ds};m["default"].use(b["a"]);var Ls=new b["a"].Store({modules:{ui:is,todo:ls,issue:Cs,merge_request:fs,team:ks,user:$s,settings:Bs,pipeline:Ss},state:Yt,actions:n,getters:Jt,mutations:Vt,plugins:Zt,strict:!1}),Ns={name:"home",computed:Object(f["a"])({},Object(b["b"])({mergeRequests:"getMergeRequests",user:"getConnectedUser",issues:"getIssues",issuesSize:"getIssuesSize",todos:"getTodos",pipelines:"getPipelines"}),{teams:function(){return _.orderBy(this.$store.getters.getTeams,[function(e){return e.name.toLowerCase()}],"asc")}}),beforeRouteEnter:function(e,t,s){Ls.dispatch("loadCurrentUser"),s()},beforeRouteUpdate:function(e,t,s){Ls.dispatch("loadCurrentUser"),s()},components:{MergeRequestsCard:Ke,UserStatsCard:at,TodosCard:gt,IssuesCard:Ot,PipelinesCard:Nt,TeamsCard:$t}},Fs=Ns,Gs=Object(R["a"])(Fs,D,B,!1,null,null,null);Gs.options.__file="Home.vue";var Ws=Gs.exports,Ks=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"pa-3"},[s("v-container",{attrs:{fluid:"","fill-height":""}},[s("v-layout",{attrs:{"align-center":"","justify-center":""}},[s("v-flex",{attrs:{xs12:"",sm8:"",md8:""}},[s("v-card",{staticClass:"elevation-12"},[s("v-toolbar",{attrs:{dark:""}},[s("v-toolbar-title",{staticClass:"white--text"},[e._v("GitLab API Configuration")])],1),s("v-card-text",[s("div",{staticClass:"body-1 mb-3"},[e._v("\n              You must define the 'Personal Access Token' (with "),s("b",[e._v("api")]),e._v(" scope) and the 'GitLab URL' you want to use. More information on how to set this is available "),s("a",{attrs:{href:"https://docs.gitlab.com/ee/user/profile/personal_access_tokens.html",target:"_blank"}},[e._v("on the GitLab documentation")]),e._v(".\n              Nothing is sent to any other server than the one you define here.\n              Everything is stored locally, right in your browser.\n            ")]),s("v-form",{ref:"form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[s("v-text-field",{attrs:{label:"Personal Access Token",rules:e.tokenRules,required:""},model:{value:e.apiToken,callback:function(t){e.apiToken=t},expression:"apiToken"}}),s("v-text-field",{attrs:{label:"GitLab URL",rules:e.urlRules,required:""},model:{value:e.apiEndpoint,callback:function(t){e.apiEndpoint=t},expression:"apiEndpoint"}})],1)],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{disabled:!e.valid},on:{click:e.submit}},[e._v("\n              Go!\n            ")])],1)],1),e.isConfigured?s("v-card",{staticClass:"elevation-12 mt-5"},[s("v-toolbar",{attrs:{dark:""}},[s("v-toolbar-title",{staticClass:"white--text"},[e._v("Clean data")])],1),s("v-card-text",[s("div",{staticClass:"body-1 mb-3"},[e._v("\n              Everything which has been stored locally in this browser will be deleted.\n              You will have to configure everything again in this case.\n            ")])]),s("v-card-actions",[s("v-spacer"),s("v-btn",{on:{click:e.cleanAll}},[e._v("\n              Clean\n            ")])],1)],1):e._e()],1)],1)],1)],1)},Hs=[],Js={name:"settings",data:function(){return{valid:!1,tokenRules:[function(e){return!!e||"Token is required"}],urlRules:[function(e){return!!e||"URL is required"},function(e){return/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&\/\/=]*)/.test(e)||"URL is not valid"}],localApiToken:null,localApiEndpoint:null}},computed:{isConfigured:function(){return this.$store.getters.isConfigured},apiToken:{get:function(){return this.$store.state.settings.apiToken},set:function(e){this.localApiToken=e}},apiEndpoint:{get:function(){return this.$store.state.settings.apiEndpoint},set:function(e){this.localApiEndpoint=e}}},mounted:function(){this.localApiToken=this.$store.state.settings.apiToken,this.localApiEndpoint=this.$store.state.settings.apiEndpoint},methods:{submit:function(){this.$refs.form.validate()&&(this.$store.dispatch("updateSettings",{apiToken:this.localApiToken,apiEndpoint:this.localApiEndpoint}),this.$router.push("/"))},cleanAll:function(){this.$store.dispatch("cleanAll"),this.localApiToken=this.$store.state.apiToken,this.localApiEndpoint=this.$store.state.apiEndpoint}},components:{}},Ys=Js,Zs=Object(R["a"])(Ys,Ks,Hs,!1,null,null,null);Zs.options.__file="Settings.vue";var Vs=Zs.exports,Qs=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"home"},[s("v-layout",{attrs:{"align-center":"","justify-end":"",row:"","fill-height":"","ma-2":""}},e._l(e.team.team.users,function(t){return s("div",{key:t.id,staticClass:"ma-1",attrs:{id:"user"},on:{click:function(s){e.$router.push({name:"user",params:{name:t.username}})}}},[s("avatar-build-gauge",{attrs:{user:t,"merge-requests":e.userMergeRequests(t.username)}})],1)})),e.mergeRequests.length?s("build-gauge",{attrs:{"merge-requests":e.mergeRequests}}):e._e(),e.mergeRequests.length?s("merge-requests",{attrs:{"merge-requests":e.mergeRequests}}):e._e()],1)},Xs=[],en=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-tooltip",{attrs:{bottom:""}},[e.stats.success?s("v-progress-linear",{attrs:{slot:"activator",height:"20",color:e.stats.color,value:e.stats.ratio},slot:"activator"}):e._e(),s("span",[e._v(e._s(e.stats.success)+" out of "+e._s(e.stats.pipelines)+" pipelines are successful ("+e._s(e.stats.ratio)+"%)")])],1)],1)},tn=[],sn={name:"BuildGauge",props:{mergeRequests:Array},methods:{getPipeline:function(e){return this.$store.getters.getPipeline(e.id)}},computed:{stats:function(){var e=this,t=this.mergeRequests.map(function(t){return e.getPipeline(t)}).filter(Boolean),s=t.filter(function(e){return"success"===e.status}),n=(100*s.length/t.length).toFixed(2),a=["error","warning","success"][Math.floor(n/40)];return{ratio:n,color:a,success:s.length,pipelines:t.length}}}},nn=sn,an=Object(R["a"])(nn,en,tn,!1,null,null,null);an.options.__file="BuildGauge.vue";var rn=an.exports,on={name:"team",components:{MergeRequests:Ne,"user-avatar":qe,BuildGauge:rn,AvatarBuildGauge:et},computed:Object(f["a"])({},Object(b["c"])(["team"]),Object(b["b"])({mergeRequests:"getMergeRequests",userMergeRequests:"getMergeRequestsForUser"})),beforeRouteEnter:function(e,t,s){Ls.dispatch("loadTeam",e.params.name),s()},beforeRouteUpdate:function(e,t,s){Ls.dispatch("loadTeam",e.params.name),s()}},cn=on,un=(s("982b"),Object(R["a"])(cn,Qs,Xs,!1,null,"66e94dcc",null));un.options.__file="Team.vue";var ln=un.exports,dn=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"todos"},[s("v-layout",{attrs:{"align-center":"","justify-end":"",row:"","fill-height":"","ma-2":""}},[e.todosSize?s("v-btn",{attrs:{outline:""},on:{click:function(t){e.markAllAsRead()}}},[e._v("\n      Mark all as done\n      "),s("v-icon",{attrs:{right:""}},[e._v("done_all")])],1):e._e()],1),e.todosSize?s("v-list",{attrs:{"two-line":"",dark:""}},[e._l(e.todos,function(t,n){return[s("todo",{key:t.id,attrs:{item:t}}),n+1<e.todos.length?s("v-divider",{key:n}):e._e()]})],2):s("v-layout",{attrs:{"ma-4":""}},[s("v-flex",[s("span",[e._v("Looks like you do not have anything to do...")])])],1)],1)},mn=[],vn={name:"todos",components:{Todo:mt},computed:Object(f["a"])({},Object(b["b"])({todos:"getTodos",todosSize:"getTodosSize"})),methods:{markAllAsRead:function(){this.$store.dispatch("markAllTodosAsDone")}}},pn=vn,fn=Object(R["a"])(pn,dn,mn,!1,null,null,null);fn.options.__file="Todos.vue";var gn=fn.exports,hn=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"todos"},[e.issuesSize?s("v-list",{attrs:{"two-line":"",dark:""}},[e._l(e.issues,function(t,n){return[s("issue",{key:t.id,attrs:{item:t}}),n+1<e.issues.length?s("v-divider",{key:n}):e._e()]})],2):s("v-layout",{attrs:{"ma-4":""}},[s("v-flex",[s("span",[e._v("Looks like you do not have created any issue...")])])],1)],1)},_n=[],bn={name:"issues",components:{Issue:Ct},computed:Object(f["a"])({},Object(b["b"])({issues:"getIssues",issuesSize:"getIssuesSize"})),methods:{}},kn=bn,yn=Object(R["a"])(kn,hn,_n,!1,null,null,null);yn.options.__file="Issues.vue";var qn=yn.exports,jn=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"home"},[e.mergeRequests.length?s("merge-requests",{attrs:{"merge-requests":e.mergeRequests}}):e._e()],1)},Rn=[],Cn={name:"user",components:{MergeRequests:Ne},computed:Object(f["a"])({},Object(b["b"])({mergeRequests:"getMergeRequests"})),beforeRouteEnter:function(e,t,s){Ls.dispatch("loadUser",e.params.name),s()},beforeRouteUpdate:function(e,t,s){Ls.dispatch("loadUser",e.params.name),s()}},wn=Cn,Tn=Object(R["a"])(wn,jn,Rn,!1,null,null,null);Tn.options.__file="User.vue";var Mn=Tn.exports,On=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-tabs",{attrs:{dark:"","slider-color":"orange"},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[s("v-tab",{key:"open"},[e._v("\n      Open\n    ")]),s("v-tab",{key:"merged",on:{click:function(t){e.fetchData("merged")}}},[e._v("\n      Merged\n    ")]),s("v-tab",{key:"closed",on:{click:function(t){e.fetchData("closed")}}},[e._v("\n      Closed\n    ")]),s("v-tab-item",{key:"open"},[[s("merge-requests",{attrs:{"merge-requests":e.computedMergeRequests}})]],2),s("v-tab-item",{key:"merged"},[e.loaded?[s("merge-requests",{attrs:{"merge-requests":e.mergeRequests}})]:[s("div",{staticClass:"text-xs-center pa-3"},[s("v-progress-circular",{attrs:{indeterminate:""}})],1)]],2),s("v-tab-item",{key:"closed"},[e.loaded?[s("merge-requests",{attrs:{"merge-requests":e.mergeRequests}})]:[s("div",{staticClass:"text-xs-center pa-3"},[s("v-progress-circular",{attrs:{indeterminate:""}})],1)]],2)],1)],1)},Sn=[],xn={data:function(){return{activeTab:null,loaded:!1,mergeRequests:null}},computed:Object(f["a"])({},Object(b["b"])({computedMergeRequests:"getMergeRequests"})),beforeRouteEnter:function(e,t,s){Ls.dispatch("loadCurrentUser"),s()},beforeRouteUpdate:function(e,t,s){Ls.dispatch("loadCurrentUser"),s()},methods:{fetchData:function(e){var t=this;this.loaded=!1,this.mergeRequests=[],ge.get().client.fetchMergeRequests({state:e}).then(function(e){return t.mergeRequests=e.data}).finally(function(){return t.loaded=!0})}},components:{MergeRequests:Ne}},An=xn,Pn=Object(R["a"])(An,On,Sn,!1,null,null,null);Pn.options.__file="MergeRequests.vue";var In=Pn.exports,$n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"pa-3"},[s("v-container",{attrs:{fluid:"","fill-height":""}},[s("v-layout",{attrs:{"align-center":"","justify-center":""}},[s("v-flex",{attrs:{xs12:"",sm8:"",md8:""}},[s("v-card",{staticClass:"elevation-12"},[s("v-toolbar",{attrs:{dark:""}},[s("v-toolbar-title",{staticClass:"white--text"},[e._v("Create a new team")])],1),s("v-card-text",[s("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[s("v-text-field",{attrs:{label:"Name",rules:[function(e){return!!e||"Name is required"}],required:"",autofocus:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),s("v-text-field",{attrs:{label:"Avatar 🤖 🦊 🤡",disabled:"",required:""},model:{value:e.icon,callback:function(t){e.icon=t},expression:"icon"}}),s("v-autocomplete",{attrs:{items:e.items,loading:e.isLoading,"search-input":e.search,chips:"","item-text":"name","item-value":"name",label:"Members",multiple:"","cache-items":"","return-object":""},on:{"update:searchInput":function(t){e.search=t}},scopedSlots:e._u([{key:"selection",fn:function(t){return[s("v-chip",{attrs:{selected:t.selected,close:""},on:{input:function(s){e.remove(t.item,t)}}},[s("v-avatar",[s("img",{attrs:{src:t.item.avatar_url}})]),e._v("\n                  "+e._s(t.item.name)+"\n                  ")],1)]}},{key:"item",fn:function(t){return[s("v-list-tile-avatar",[s("v-avatar",[s("img",{attrs:{src:t.item.avatar_url}})])],1),s("v-list-tile-content",[s("v-list-tile-title",{domProps:{textContent:e._s(t.item.name)}})],1)]}}]),model:{value:e.members,callback:function(t){e.members=t},expression:"members"}},[s("template",{slot:"no-data"},[s("v-list-tile",[s("v-list-tile-title",[e._v("\n                      Search GitLab User...\n                    ")])],1)],1)],2)],1)],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{disabled:!e.valid},on:{click:e.create}},[e._v("Create")]),s("v-btn",{on:{click:e.clear}},[e._v("Clear")])],1)],1)],1)],1)],1)],1)},En=[],Un={data:function(){return{valid:!0,name:null,icon:"🦊",members:[],isLoading:!1,items:[],search:null}},methods:{create:function(){if(this.$refs.form.validate()){var e={name:this.name,icon:this.icon,usernames:this.members.map(function(e){return e.username})};this.$store.dispatch("createTeam",e),this.$router.push({name:"team",params:{name:e.name}})}},clear:function(){this.$refs.form.reset()},remove:function(e){var t=this.members.findIndex(function(t){return t.id===e.id});t>=0&&this.members.splice(t,1)}},watch:{search:function(e){var t=this;e&&null!==e&&(this.isLoading=!0,ge.get().client.searchUsers(e).then(function(e){return t.items=e.data}).catch(console.log).finally(function(){return t.isLoading=!1}))}}},zn=Un,Dn=Object(R["a"])(zn,$n,En,!1,null,null,null);Dn.options.__file="CreateTeam.vue";var Bn=Dn.exports;m["default"].use(z["a"]);var Ln=new z["a"]({base:"/gitlab-teams/",routes:[{path:"/",name:"home",component:Ws},{path:"/mrs",name:"mrs",component:In},{path:"/todo",name:"todo",component:gn},{path:"/issues",name:"issues",component:qn},{path:"/team/:name",name:"team",component:ln},{path:"/user/:name",name:"user",component:Mn},{path:"/settings",name:"settings",component:Vs},{path:"/settings/team/create",name:"create-team",component:Bn},{path:"/about",name:"about",component:function(){return s.e("about").then(s.bind(null,"f820"))}}]}),Nn=s("c0a4"),Fn=s.n(Nn),Gn={primary:Fn.a.orange},Wn=Gn;m["default"].config.productionTip=!1,m["default"].use(o.a,{theme:Wn}),m["default"].use(i.a),m["default"].use(d.a),m["default"].use(u.a,{id:"UA-130186625-1",router:Ln}),ge.init(Ls),new m["default"]({router:Ln,store:Ls,render:function(e){return e(U)}}).$mount("#app")},"5e37":function(e,t,s){"use strict";var n=s("e0ee"),a=s.n(n);a.a},6337:function(e,t,s){"use strict";var n=s("1002"),a=s.n(n);a.a},"7e49":function(e,t,s){"use strict";var n=s("2ab5"),a=s.n(n);a.a},"82c8":function(e,t,s){},9411:function(e,t,s){"use strict";var n=s("82c8"),a=s.n(n);a.a},"94d5":function(e,t){},"982b":function(e,t,s){"use strict";var n=s("09a0"),a=s.n(n);a.a},aefd:function(e,t,s){"use strict";var n=s("bccc"),a=s.n(n);a.a},b921:function(e,t,s){"use strict";var n=s("c176"),a=s.n(n);a.a},bccc:function(e,t,s){},c176:function(e,t,s){},caf6:function(e,t,s){"use strict";var n=s("0077"),a=s.n(n);a.a},da8f:function(e,t,s){},dac1:function(e,t,s){"use strict";var n=s("e36d"),a=s.n(n);a.a},e0ee:function(e,t,s){},e176:function(e,t,s){"use strict";var n=s("2498"),a=s.n(n);a.a},e36d:function(e,t,s){},fa16:function(e,t,s){"use strict";var n=s("26b5"),a=s.n(n);a.a}});
//# sourceMappingURL=app.5e419a45.js.map